{% extends "users/base_form.html" %}
{% load static %}
{% block content %}
    <section class="contentBar">
        <div class="navbar"><i onclick="sideCollapse()" class="collapseBar fas fa-bars"></i><i onclick="sideShow()"
                                                                                               class="showBar fas fa-bars"></i>
            <p>Training Details</p>
        </div>
        <div class="mainContent">
            <form action="{% url 'users:training_info' %}" method="POST">
                {% csrf_token %}
                {{ formset.management_form }}
                <div id="form0">
                    {% for form in formset %}
                        {% for hidden in form.hidden_fields %}
                            {{ hidden }}
                        {% endfor %}
                        <div class="personalDetail-name" id="personalDetail-name">
                            <div class="personalDetail-fname">
                                <h4>Name of the Training</h4>
                                {{ form.name_of_training }}
                            </div>
                            <div class="personalDetail-fname">
                                <h4>Institute Name</h4>
                                {{ form.institute_name }}
                            </div>

                            <div class="marksSecured">
                                <h4>Training Duration</h4>
                                <div class="doubleInput">
                                    {{ form.duration }}
                                    {{ form.duration_type }}
                                </div>
                            </div>
                            <div class="marksSecured">
                                <h4>Completion year</h4>
                                <div class="doubleInput">
                                    {{ form.completion_month }}
                                    {{ form.completion_year }}
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
                <div class="addSection" onclick="duplicate()">
                    + Add More Training Detail
                </div>

                <div class="formSubmitBtn">
                    <input type="button" value="Skip" class="formButton">
                    <input type="submit" value="Save" class="formButton">
                </div>
            </form>
        </div>
    </section>
    <script>
        const sideCollapse = () => {
            document.querySelector(".sideBar").style.width = "50px";
            document.querySelector(".collapseBar").style.display = "none";
            document.querySelector(".showBar").style.display = "block";
        }
        const sideShow = () => {
            document.querySelector(".sideBar").style.width = "290px";
            document.querySelector(".showBar").style.display = "none";
            document.querySelector(".collapseBar").style.display = "block";
        }

        var i = 0;

        function duplicate() {
            var original = document.getElementById('form' + i);
            var clone = original.cloneNode(true);
            clone.id = "form" + ++i;
            original.appendChild(clone);
        }

    </script>
{% endblock %}